<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Moving to TestNG from JUnit &mdash; JohnLockwood.com 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=19645805"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../" class="icon icon-home">
            JohnLockwood.com
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../math/">Math Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cognitive_science/">Cognitive Science</a></li>
<li class="toctree-l1"><a class="reference internal" href="../socialmedia/">Social Media</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">JohnLockwood.com</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Moving to TestNG from JUnit</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/using-testng-with-spring.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>Although there aren’t too many examples to be found about it, using Spring’s AbstractTestNGSpringContextTests turns out to be really easy! We walk you through it in this brief tutorial.</p>
<p>Testing Spring in JUnit is fairly simple given the test runner support. Using TestNG is a little bit more complex, but this tutorial will quickly get you up to speed.</p>
<section id="moving-to-testng-from-junit">
<h1>Moving to TestNG from JUnit<a class="headerlink" href="#moving-to-testng-from-junit" title="Link to this heading"></a></h1>
<p>A few weeks ago I published a <a class="reference external" href="https://blog.codesolid.com/post/spring-unit-testing-using-junit/">Simple Introduction to Spring Unit testing using JUnit</a>. We’ve been using JUnit quite a bit in our examples so far, but as some of you may already know, JUnit is not the only unit test framework for Java. Another framework, TestNG, offers a lot of features that JUnit lacks, such as the ability to run parameterized tests in which a given test is run against an array of different values, and the ability to break tests down into categories coupled with fine-grained configuration control over what tests to run. Indeed, the author of TestNG (“Next Generation”) very much had the limitations of JUnit in mind in writing the new framework. You can read about some of the problems with JUnit that TestNG was designed to solve on it the <a class="reference external" href="http://testng.org/">TestNG website</a>.</p>
<p>Of course, the choice of which technology to use is often a matter not of what’s best, but what’s most popular (especially if you’re early in your career and need to get certain key technologies added to your resume). So for my newcomers who are beginning a technical career in Java, I’d be inclined to recommend JUnit, whereas for myself, the old programmer that I am, I have the luxury of picking the technology I consider better in many cases. For example, compared to IntelliJ Idea, for me Eclipse is just too painful – free or not, big market share or not. So I use IntelliJ. So if you’re playing “Indeed Job-Hunting Keyword Bingo”, stick with JUnit, otherwise do yourself a favor and take a look at TestNG. &lt;/My two cents&gt;</p>
</section>
<section id="setting-up-the-maven-dependency-for-testng">
<h1>Setting Up The Maven Dependency for TestNG<a class="headerlink" href="#setting-up-the-maven-dependency-for-testng" title="Link to this heading"></a></h1>
<p>Rather than repeat all the sample bean code from our original JUnit article, let’s focus here on the tests. The original sample code is, after all, not very interesting – it only gave us something to test. To migrate the JUnit sample, the first thing I needed to do was change the dependency section in our POM file slightly. Remove the JUnit dependency:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>junit
<span class="w">  </span>junit
<span class="w">  </span>4.8.2
<span class="w">  </span>test
</pre></div>
</div>
<p>Now, add the dependency for TestNG</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>org.testng
<span class="w">  </span>testng
<span class="w">  </span>6.1.1
<span class="w">  </span>test
</pre></div>
</div>
<p>For the benefit of those of you starting from scratch, here is the <a class="reference external" href="https://github.com/CodeSolid/tutorials/blob/master/SpringTestNG/pom.xml">full POM file</a>.</p>
</section>
<section id="simple-abstracttestngspringcontexttests-test-examples">
<h1><strong>Simple AbstractTestNGSpringContextTests Test Examples</strong><a class="headerlink" href="#simple-abstracttestngspringcontexttests-test-examples" title="Link to this heading"></a></h1>
<p>Next, let’s see what we need to do to use Spring’s basic TestNG testing support class, AbstractTestNGSpringContextTests. Don’t let the “Abstract” in the name scare you off here, there’s really nothing much to implement. All you need to do is add a ContextConfiguration annotation to your class and it just works. Here’s the Hello-World-simple example, which only uses the ContextConfiguration annotation to get it to compile and run.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nn">com.codesolid.tutorials.tests</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.testng.AbstractTestNGSpringContextTests</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.ContextConfiguration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testng.annotations.Test</span><span class="p">;</span>

<span class="kn">import static</span><span class="w"> </span><span class="nn">org.testng.Assert.assertTrue</span><span class="p">;</span>

<span class="nd">@ContextConfiguration</span><span class="p">(</span><span class="s">&quot;file:src/main/resources/spring-config.xml&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SimpleTest</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AbstractTestNGSpringContextTests</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">SomeTest</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">assertTrue</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Modifying our JUnit tests to work with TestNG was just as easy. The &#64;RunWith annotation was no longer needed, being replaced by the fact that we’re extending AbstractTestNGSpringContextTexts. So pretty much the only migration we did was to change JUnit imports to TestNG ones. We removed:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import static</span><span class="w"> </span><span class="nn">org.junit.Assert.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.Test</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.runner.RunWith</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.junit4.SpringJUnit4ClassRunner</span><span class="p">;</span>
</pre></div>
</div>
<p>We replaced it with:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.testng.AbstractTestNGSpringContextTests</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testng.annotations.Test</span><span class="p">;</span>
<span class="kn">import static</span><span class="w"> </span><span class="nn">org.testng.Assert.*</span><span class="p">;</span>
</pre></div>
</div>
<p>Here for example is a little bit longer example, that exercises some of the test beans we’ve wired up in our application context:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nn">com.codesolid.tutorials.tests</span><span class="p">;</span>

<span class="c1">// Generally needed:</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.ContextConfiguration</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.ApplicationContext</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.test.context.testng.AbstractTestNGSpringContextTests</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.testng.annotations.Test</span><span class="p">;</span>
<span class="kn">import static</span><span class="w"> </span><span class="nn">org.testng.Assert.*</span><span class="p">;</span>

<span class="c1">// Application specific</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.codesolid.tutorials.UserStory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.codesolid.tutorials.User</span><span class="p">;</span>

<span class="nd">@ContextConfiguration</span><span class="p">(</span><span class="s">&quot;file:src/main/resources/spring-config.xml&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ContextTests</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AbstractTestNGSpringContextTests</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&quot;SpringJavaAutowiringInspection&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">ac</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Using ApplicationContext</span>
<span class="w">    </span><span class="c1">// The getBean method is the workhorse of the Spring ApplicationContext.</span>
<span class="w">    </span><span class="c1">// The user field in the UserStory object was set up (dependency injected)</span>
<span class="w">    </span><span class="c1">// by Spring:</span>
<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testUserNotNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">UserStory</span><span class="w"> </span><span class="n">story</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">UserStory</span><span class="p">)</span><span class="w"> </span><span class="n">ac</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;userStory&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertNotNull</span><span class="p">(</span><span class="n">story</span><span class="p">.</span><span class="na">getUser</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Not using ApplicationContext</span>
<span class="w">    </span><span class="c1">// Regular non-Spring instantiation</span>
<span class="w">    </span><span class="c1">// Instantiating our own UserStory, you can see that the user</span>
<span class="w">    </span><span class="c1">// is null.</span>
<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testUserStoryNotFromContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">UserStory</span><span class="w"> </span><span class="n">story</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UserStory</span><span class="p">();</span>
<span class="w">        </span><span class="n">assertNull</span><span class="p">(</span><span class="n">story</span><span class="p">.</span><span class="na">getUser</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Not using ApplicationContext</span>
<span class="w">    </span><span class="c1">// Regular non-Spring instantiation</span>
<span class="w">    </span><span class="c1">// The default role if you just call the constructor</span>
<span class="w">    </span><span class="c1">// is &quot;User&quot;.</span>
<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testNonSpringUserDefaultRole</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">User</span><span class="p">();</span>
<span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">u</span><span class="p">.</span><span class="na">getRole</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;User&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Using ApplicationContext</span>
<span class="w">    </span><span class="c1">// Since Spring instantiated this according to the property</span>
<span class="w">    </span><span class="c1">// from spring-config.xml, it overrode the default &quot;user&quot;</span>
<span class="w">    </span><span class="c1">// role with &quot;SuperGenius User&quot;.  (This presumably</span>
<span class="w">    </span><span class="c1">// is Wile E. Coyote.)</span>
<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testUserRoleIsAsExpected</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">UserStory</span><span class="w"> </span><span class="n">story</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">UserStory</span><span class="p">)</span><span class="w"> </span><span class="n">ac</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;userStory&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">story</span><span class="p">.</span><span class="na">getUser</span><span class="p">().</span><span class="na">getRole</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;SuperGenius User&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Getting started using the Spring TestNG support turned out to be really easy. Check out our IntelliJ project and the full source on <a class="reference external" href="https://github.com/CodeSolid/tutorials/tree/master/SpringTestNG">GitHub</a>.</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, John Lockwood.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3KNPRGQ15C"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-3KNPRGQ15C', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>